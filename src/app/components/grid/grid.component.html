@if (data$ | async; as items) {
  @if (items.length > 0) {
    <div class="table-flex">
      <div class="table-flex-row table-flex-header">
        @for (column of columns(); track column.property()) {
          <t-grid-header
            [name]="column.name()"
            [key]="column.property()"
            [isSortable]="sortable() && column.sortable()"
            [sortKey]="sortKey()"
            [sortDirection]="sortDirection()"
            (sort)="onSort($event)">
          </t-grid-header>
        }
      </div>
      <div class="table-flex-body">
        @for (item of items; track item.id) {
          <div class="table-flex-row">
            @for (column of columns(); track column.property()) {
              <div>{{ item[column.property()] }}</div>
            }
          </div>
        }
      </div>
    </div>
  } @else {
    <p>No items to display.</p>
  }
} @else {
  <p>Loading items...</p>
}
